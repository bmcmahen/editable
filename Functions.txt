String Functions
#addTag(str, tag);
#hasTag(str, tag);
-> stringContains(str, <h1>)

#toggleTag(str, tag);
- if string contains tag, but its not the first, we move that tag
to the beginning.
- if string contains tag, beginning and end, but neither are first or last,
then we move the tag to beginning and end.
- if our selection is PART of STRONG, we add a </strong> and <strong> to the beginning
and end of our selection. THIS MEANS. We cannot simply evaluate based on the selection. We need to know the selection in context.
- fuck this will be hard.
- CONSIDER USING: formatBlock. This wont' work.

- We can still use: var isBold = document.queryCommandState('Bold');
- if (!isBold){
  // check to see if our range contains a <strong> element. we can probably query this
  // by cloning contents, and actually querying it.
  if (contains('strong')){
    removeTag('strong');
    surroundTag('strong');
  }
}

- if (isBold){
  if (containsEndTag) then moveEndTag to beginning of selection.
  else removeAllBoldTags.  
}

- Also check if we have a regular cursor.
- this will be easier: we simply prepare next input for <strong> and if the user types,
we add that content to strong. 

We need: 

(1) start index, end index of selection. 
(2) the entire string

#removeTag(str, tag);
->


// Editable Class
Editable(el, stack);
#contents(str) // set or get innerHTML
#innerText(str) // get innerHTML w/ tags removed
#toggle // disable/enable editing
#enable // bind events
#disable // unbind events
#undo
#redo
#addToHistory
#currentSelection

// Cursor Class
Cursor(); // returns currentSelection
#insert(str); // insert html at cursor
#hasTag(tag);
#addTag(tag); // if we don't have a selection, enter state where IF we type text, we insert that text into the specified tag.
#removeTag(tag); // if we are typing a new tag, we jump out of that tag, and continue writing outside of it. If we haven't written anything yet, we cancel the above state.
#toggleTag(tag);
#isSelection(); // cursor or 



Events
#textselected
#endtextselected
#save
#addtohistory
#change